@{
    ViewBag.Title = "ข้อมูลลูกค้าใหม่";
    ViewBag.MainMenu = "ระบบจัดการข้อมูลลูกค้า";
    Layout = "~/Views/Shared/_LayoutPartial.cshtml";
}
<div class="row bg-title">
    <!-- .page title -->
    <div class="col-md-5">
        <ol class="breadcrumb pull-left">
            <li><a href="#">@ViewBag.MainMenu</a></li>
            <li class="active">@ViewBag.Title</li>
        </ol>
    </div>

</div>


<div class="row">
    <div class="col-lg-12 ">
        <div class="panel-group wiz-aco" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingOne">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            ข้อมูลลูกค้า
                        </a>
                    </h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <br>     <form class="form-horizontal">

                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputEmail3" class="col-sm-4 control-label">คำนำหน้า : </label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="CustomerTitleName">
                                            <option value="นาย">นาย</option>
                                            <option value="นางสาว">นางสาว</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">

                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputEmail3" class="col-sm-4 control-label">ชื่อ : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerFirstName" placeholder="ชื่อ">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputEmail3" class="col-sm-4 control-label">นามสกุล : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerLastName" placeholder="นามสกุล">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 has-error">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">ชื่อเล่น : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerNickName" placeholder="ชื่อเล่น">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputPassword3" class="col-sm-4 control-label">รหัสประจำตัวประชาชน : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerIdCard" placeholder="รหัสประจำตัวประชาชน">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputEmail3" class="col-sm-4 control-label">สถานภาพ : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerAddress1" placeholder="ที่อยู่">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 has-error">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">ที่อยู่ : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerAddress1" placeholder="ที่อยู่">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 has-error">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">จังหวัด : </label>
                                    <div class="col-sm-8">

                                        <select class="form-control select2" id="CustomerProvince">
                                            <option>เลือก</option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputPassword3" class="col-sm-4 control-label">อำเภอ/เขต : </label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="CustomerDistrict">
                                            <option selected>เลือก</option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 has-error">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">ตำบล/แขวง : </label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="CustomerSubDistrict">
                                            <option>เลือก</option>
                                        </select>

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group has-error">
                                    <label for="inputPassword3" class="col-sm-4 control-label">รหัสไปรษณีย์ : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerZipCode" placeholder="รหัสไปรษณีย์">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 has-error">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">เบอร์โทร : </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerMobile" placeholder="เบอร์โทร">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-4 control-label">อีเมลล์: </label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="CustomerEmail" placeholder="อีเมลล์">
                                    </div>
                                </div>
                            </div>
                        </div>


                    </form>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingTwo">
                    <h4 class="panel-title">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            ข้อมูลที่ทำงาน
                        </a>
                    </h4>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                    <div class="panel-body">
                        <form class="form-horizontal">
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">สถานภาพการทำงาน : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control select2" id="CustomerJob">
                                                <option value="">เลือก</option>
                                                <option value="บริษัทเอกชน">บริษัทเอกชน</option>
                                                <option value="รับราชการ">รับราชการ</option>
                                                <option value="รัฐวิสาหกิจ">รัฐวิสาหกิจ</option>
                                                <option value="ธุรกิจส่วนตัว">ธุรกิจส่วนตัว</option>
                                                <option value="อาชีพอิสระ">อาชีพอิสระ</option>
                                                <option value="Other">อื่นๆ</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ลักษณะงาน : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerEmail" placeholder="ลักษณะงาน">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">รายได้ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerMobile" placeholder="รายได้">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">จำนวนปีที่ทำงาน : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerEmail" placeholder="จำนวนปีที่ทำงาน">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">สถานที่ทำงาน : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerAddress1" placeholder="ที่อยู่">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">จังหวัด : </label>
                                        <div class="col-sm-8">

                                            <select class="form-control select2" id="CustomerProvince">
                                                <option>เลือก</option>

                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputPassword3" class="col-sm-4 control-label">อำเภอ/เขต : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control select2" id="CustomerDistrict">
                                                <option selected>เลือก</option>

                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ตำบล/แขวง : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control select2" id="CustomerSubDistrict">
                                                <option>เลือก</option>
                                            </select>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label for="inputPassword3" class="col-sm-4 control-label">รหัสไปรษณีย์ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerZipCode" placeholder="รหัสไปรษณีย์">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingThree">
                    <h4 class="panel-title">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            บุคคลที่สามารถติดต่อได้ในกรณีฉุกเฉิน
                        </a>
                    </h4>
                </div>
                <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                    <div class="panel-body">

                        <form class="form-horizontal">

                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">คำนำหน้า : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="CustomerTitleName">
                                                <option value="นาย">นาย</option>
                                                <option value="นางสาว">นางสาว</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">

                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ชื่อ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerFirstName" placeholder="ชื่อ">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">นามสกุล : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerLastName" placeholder="นามสกุล">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ความสัมพันธ์  : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerNickName" placeholder="ความสัมพันธ์">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputPassword3" class="col-sm-4 control-label">สถานที่ติดต่อ   : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerIdCard" placeholder="สถานที่ติดต่อ">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label"> เบอร์โทร : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerNickName" placeholder="เบอร์โทร">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">

                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingfour">
                    <h4 class="panel-title">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapsefour" aria-expanded="false" aria-controls="collapsefour">
                            ข้อมูลคู่สมรส
                        </a>
                    </h4>
                </div>
                <div id="collapsefour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingfour">
                    <div class="panel-body">
                        <form class="form-horizontal">

                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">คำนำหน้า : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="CustomerTitleName">
                                                <option value="นาย">นาย</option>
                                                <option value="นางสาว">นางสาว</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">

                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ชื่อ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerFirstName" placeholder="ชื่อ">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">นามสกุล : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerLastName" placeholder="นามสกุล">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5 has-error">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ชื่อเล่น : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerNickName" placeholder="ชื่อเล่น">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5 has-error">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">เบอร์โทร : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerMobile" placeholder="เบอร์โทร">
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputPassword3" class="col-sm-4 control-label">ลักษณะงาน : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerIdCard" placeholder="ลักษณะงาน">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputEmail3" class="col-sm-4 control-label">รายได้ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerAddress1" placeholder="รายได้">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5 has-error">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">สถานที่ทำงาน : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerAddress1" placeholder="ที่อยู่">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5 has-error">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">จังหวัด : </label>
                                        <div class="col-sm-8">

                                            <select class="form-control select2" id="CustomerProvince">
                                                <option>เลือก</option>

                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputPassword3" class="col-sm-4 control-label">อำเภอ/เขต : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control select2" id="CustomerDistrict">
                                                <option selected>เลือก</option>

                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5 has-error">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="col-sm-4 control-label">ตำบล/แขวง : </label>
                                        <div class="col-sm-8">
                                            <select class="form-control select2" id="CustomerSubDistrict">
                                                <option>เลือก</option>
                                            </select>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group has-error">
                                        <label for="inputPassword3" class="col-sm-4 control-label">รหัสไปรษณีย์ : </label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CustomerZipCode" placeholder="รหัสไปรษณีย์">
                                        </div>
                                    </div>
                                </div>
                            </div>



                        </form>
                    </div>
                </div>
            </div>


        </div>

    </div>

</div>
@section Scripts {
    @Scripts.Render("../Scripts/src/customers_src.js")

    <script>
        $(function () {
            $('#accordion').wizard({
                step: '[data-toggle="collapse"]',
                buttonsAppendTo: '.panel-collapse',
                templates: {
                    buttons: function () {
                        var options = {
                            buttonLabels: {
                                next: 'ถัดไป',
                                back: 'ย้อนกลับ',
                                finish: 'บันทึก'
                            },
                        }
                        ;
                        return '<div class="panel-footer"><ul class="pager">' + '<li class="previous">' + '<a href="#' + this.id + '" data-wizard="back" role="button">' + options.buttonLabels.back + '</a>' + '</li>' + '<li class="next">' + '<a href="#' + this.id + '" data-wizard="next" role="button">' + options.buttonLabels.next + '</a>' + '<a href="#' + this.id + '" data-wizard="finish" role="button">' + options.buttonLabels.finish + '</a>' + '</li>' + '</ul></div>';
                    }
                },
                onBeforeShow: function (step) {
                    step.$pane.collapse('show');
                },
                onBeforeHide: function (step) {
                    step.$pane.collapse('hide');
                },
                onFinish: function () {
                    AddCustomer();
                }
            });
            $(".select2").select2();

            $.get("../Setting/GetProvince", function (obj) {

                $.each(obj.data, function (key, value) {
                    $("#CustomerProvince").append('<option value="' + value.ProvinceID + '"' + ">" + value.ProvinceName + "</option>");
                });
            });



            $("#CustomerProvince").change(function () {

                // ล้างข้อมูลเดิม
                $('#CustomerDistrict')
                .find('option')
                .remove()
                .end()
                .append('<option selected>เลือก</option>');

                $('#CustomerSubDistrict')
               .find('option')
               .remove()
               .end()
               .append('<option selected>เลือก</option>');
                ;

                $.get("../Setting/GetDistrict/" + $('#CustomerProvince').val(), function (obj) {
                    $.each(obj.data, function (key, value) {
                        $("#CustomerDistrict").append('<option value="' + value.DistrictID + '"' + ">" + value.DistrictName + "</option>");
                    });
                });
                $("#select2-chosen-2").text('เลือก');
                $("#select2-chosen-3").text('เลือก');
            });

            $("#CustomerDistrict").change(function () {
                $('#CustomerSubDistrict')
                .find('option')
                .remove()
                .end()
                .append('<option selected>เลือก</option>');


                $.get("../Setting/GetSubDistrict/" + $('#CustomerDistrict').val(), function (obj) {
                    $.each(obj.data, function (key, value) {
                        $("#CustomerSubDistrict").append('<option value="' + value.SubDistrictID + '"' + ">" + value.SubDistrictName + "</option>");
                    });
                });
                $("#select2-chosen-3").text('เลือก');

            });
            $("#CustomerSubDistrict").change(function () {
                $.get("../Setting/GetZipCode/" + $('#CustomerSubDistrict').val(),
                    function (obj) {
                        console.log(obj.data);
                        $('#CustomerZipCode').val(obj.data[0].SubDistrictZipCode);
                    });
            });
        })
    </script>
}
